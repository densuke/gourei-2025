# 号令担当抽選アプリケーション仕様書

## 1. 概要
... (省略) ...

## 2. 目的
... (省略) ...

## 3. 機能要件
... (省略) ...

## 4. 非機能要件
... (省略) ...

## 5. データ
... (省略) ...

## 6. その他
*   「正」「副」の割り当てロジック: 最初に選出された学生を「正担当」、次に選出された学生を「副担当」とする。

## 7. テスト要件

本アプリケーションの品質を保証するため、以下のテストを実施する。Rustの標準テストフレームワーク (`#[test]`) を使用し、必要に応じてモックやテスト用のデータファイルを用いる。

*   **7.1. 正常系テスト:**
    *   **抽選結果検証 (固定シード):**
        *   内容: 事前に用意した学生リストのCSVファイルと、固定した乱数生成器のシード値を用いて実行する。
        *   期待結果: 常に同じ2名の学生が、正しい役割（正・副）と正しい出力形式（スペース区切り）で選出されることを確認する。(`rand::rngs::StdRng` と `rand::SeedableRng` の使用を想定)
    *   **コマンドライン引数によるファイル指定:**
        *   内容: テスト用の別名CSVファイルをコマンドライン引数で指定して実行する。
        *   期待結果: 指定されたファイルが読み込まれ、そのリストから抽選が正常に行われ、結果が表示されることを確認する。
    *   **デフォルトファイルパスでの動作:**
        *   内容: コマンドライン引数を指定せずに実行する。事前にデフォルトパス (`./students.csv`) にテスト用CSVファイルを配置しておく。
        *   期待結果: デフォルトパスのファイルが読み込まれ、抽選が正常に行われ、結果が表示されることを確認する。

*   **7.2. 異常系テスト (エラーハンドリング):**
    *   **ファイル不存在:**
        *   内容: 存在しないファイルパスをコマンドライン引数で指定する、またはデフォルトパスにファイルが存在しない状態で引数なしで実行する。
        *   期待結果: プログラムがパニックせず、ファイルが見つからない旨を示す適切なエラーメッセージを表示して終了することを確認する。
    *   **空の学生リスト:**
        *   内容: ヘッダー行のみ、またはデータ行が全くないCSVファイルを読み込ませる。
        *   期待結果: プログラムがパニックせず、リストが空である旨を示す適切なエラーメッセージを表示して終了することを確認する。
    *   **学生数不足 (2名未満):**
        *   内容: 学生が1名しか記載されていないCSVファイルを読み込ませる。
        *   期待結果: プログラムがパニックせず、抽選に必要な人数に満たない旨を示す適切なエラーメッセージを表示して終了することを確認する。
    *   **CSVフォーマット不正:**
        *   内容: 区切り文字がカンマでない、または列数が異なる（IDとNameのペアになっていない）行を含むCSVファイルを読み込ませる。
        *   期待結果: プログラムがパニックせず、CSVの形式が不正である旨を示す適切なエラーメッセージ（`csv` クレート由来のエラーを含む可能性がある）を表示して終了することを確認する。
